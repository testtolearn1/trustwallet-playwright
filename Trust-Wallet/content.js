(()=>{var e={97034:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}h(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&h(e,"error",t,n)}(e,o,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,s,i,c;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),i=s[t]),void 0===i)i=s[t]=n,++e._eventsCount;else if("function"==typeof i?i=s[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(o=l(e))>0&&i.length>o&&!i.warned){i.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=i.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function g(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):d(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(s){r.once&&e.removeEventListener(t,o),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,s=this._events;if(void 0!==s)o=o&&void 0===s.error;else if(!o)return!1;if(o){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,u=d(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,m(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,m(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,s,i;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){i=n[s].listener,o=s;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(o=s[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return g(this,e,!0)},s.prototype.rawListeners=function(e){return g(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},23791:function(e,t,n){var r,o;r=function(e){"use strict";var t,n,r=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(t in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],t)&&(e[t]=arguments[n][t]);return e},o={template:"[%t] %l:",levelFormatter:function(e){return e.toUpperCase()},nameFormatter:function(e){return e||"root"},timestampFormatter:function(e){return e.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},s={},i=function(e,n){if(!e||!e.setLevel)throw new TypeError("Argument is not a logger");var i=e.methodFactory,a=e.name||"",l=s[a]||s[""]||o;function c(e,t,n){var r=i(e,t,n),o=s[n]||s[""],l=-1!==o.template.indexOf("%t"),c=-1!==o.template.indexOf("%l"),u=-1!==o.template.indexOf("%n");return function(){for(var t="",i=arguments.length,m=Array(i),g=0;g<i;g++)m[g]=arguments[g];if(a||!s[n]){var f=o.timestampFormatter(new Date),d=o.levelFormatter(e),h=o.nameFormatter(n);o.format?t+=o.format(d,h,f):(t+=o.template,l&&(t=t.replace(/%t/,f)),c&&(t=t.replace(/%l/,d)),u&&(t=t.replace(/%n/,h))),m.length&&"string"==typeof m[0]?m[0]=t+" "+m[0]:m.unshift(t)}r.apply(void 0,m)}}return s[a]||(e.methodFactory=c),(n=n||{}).template&&(n.format=void 0),s[a]=r({},l,n),e.setLevel(e.getLevel()),t||e.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),e},a={reg:function(e){if(!e||!e.getLogger)throw new TypeError("Argument is not a root logger");t=e},apply:i};return e&&(n=e.prefix,a.noConflict=function(){return e.prefix===a&&(e.prefix=n),a}),a},void 0===(o="function"==typeof r?r.call(t,n,t,e):r)||(e.exports=o)},14352:function(e,t,n){var r,o;!function(s,i){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?s:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):e)}function a(t,n){for(var o=0;o<r.length;o++){var s=r[o];this[s]=o<t?e:this.methodFactory(s,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(a.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return i(e)||l.apply(this,arguments)}function u(e,n,o){var s,i=this;n=null==n?"WARN":n;var l="loglevel";function u(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(e){}}}function m(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===i.levels[e]&&(e=void 0),e}}function g(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),i.name=e,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=o||c,i.getLevel=function(){return s},i.setLevel=function(n,r){if("string"==typeof n&&void 0!==i.levels[n.toUpperCase()]&&(n=i.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(s=n,!1!==r&&u(n),a.call(i,n,e),typeof console===t&&n<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(e){n=e,m()||i.setLevel(e,!1)},i.resetLevel=function(){i.setLevel(n,!1),g()},i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)},i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};var f=m();null==f&&(f=n),i.setLevel(f,!1)}var m=new u,g={};m.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=g[e];return t||(t=g[e]=new u(e,m.getLevel(),m.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return m.noConflict=function(){return typeof window!==t&&window.log===m&&(window.log=f),m},m.getLoggers=function(){return g},m.default=m,m},void 0===(o="function"==typeof r?r.call(t,n,t,e):r)||(e.exports=o)}()},16171:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,l=[],c=!1,u=-1;function m(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&g())}function g(){if(!c){var e=i(m);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function d(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||i(g)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},627:function(e,t){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=undefined){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=e=>e&&"object"==typeof e&&"function"==typeof e.then,s=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},i=e=>1==e?"argument":"arguments",a=(e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((o,i)=>{if(t.fallbackToNoCallback)try{n[e](...r,s({resolve:o,reject:i},t))}catch(s){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,s),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(n[e](...r),o()):n[e](...r,s({resolve:o,reject:i},t))}))},l=(e,t,n)=>new Proxy(t,{apply:(t,r,o)=>n.call(r,e,...o)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let r=Object.create(null),o={has:(t,n)=>n in e||n in r,get(o,s,i){if(s in r)return r[s];if(!(s in e))return;let m=e[s];if("function"==typeof m)if("function"==typeof t[s])m=l(e,e[s],t[s]);else if(c(n,s)){let t=a(s,n[s]);m=l(e,e[s],t)}else m=m.bind(e);else if("object"==typeof m&&null!==m&&(c(t,s)||c(n,s)))m=u(m,t[s],n[s]);else{if(!c(n,"*"))return Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:()=>e[s],set(t){e[s]=t}}),m;m=u(m,t[s],n["*"])}return r[s]=m,m},set:(t,n,o,s)=>(n in r?r[n]=o:e[n]=o,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},s=Object.create(e);return new Proxy(s,o)},m=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),g=new r((e=>"function"!=typeof e?e:function(t){const n=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),f=new r((e=>"function"!=typeof e?e:function(t,n,r){let s,i,a=!1,l=new Promise((e=>{s=function(t){a=!0,e(t)}}));try{i=e(t,n,s)}catch(e){i=Promise.reject(e)}const c=!0!==i&&o(i);if(!0!==i&&!c&&!a)return!1;const u=e=>{e.then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return u(c?i:l),!0})),d=({reject:n,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?n(new Error(o.message)):r(o)},h=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const o=d.bind(null,{resolve:e,reject:t});r.push(o),n.sendMessage(...r)}))},p={devtools:{network:{onRequestFinished:m(g)}},runtime:{onMessage:m(f),onMessageExternal:m(f),sendMessage:h.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:h.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},A={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":A},services:{"*":A},websites:{"*":A}},u(e,p,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(16171);Promise.resolve(!1),Promise.resolve(!0);var t=Promise.resolve();function r(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}function o(){return Math.random().toString(36).substring(2)}var s=0,i=0;function a(){var e=(new Date).getTime();return e===s?1e3*e+ ++i:(s=e,i=0,1e3*e)}var l="[object process]"===Object.prototype.toString.call(void 0!==e?e:0);const c={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,n){try{return e.bc.postMessage(n,!1),t}catch(e){return Promise.reject(e)}},canBeUsed:function(){if(l&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:a};var u=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var t=this;this.timeMap.set(e,m()),this.set.add(e),setTimeout((function(){!function(e){var t=m()-e.ttl,n=e.set[Symbol.iterator]();for(;;){var r=n.next().value;if(!r)return;if(!(e.timeMap.get(r)<t))return;e.timeMap.delete(r),e.set.delete(r)}}(t)}),0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function m(){return(new Date).getTime()}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var f="pubkey.broadcast-channel-0-",d="messages";function h(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function p(e,t){var n=e.transaction(d).objectStore(d),r=[];return new Promise((function(e){(function(){try{var e=IDBKeyRange.bound(t+1,1/0);return n.openCursor(e)}catch(e){return n.openCursor()}}()).onsuccess=function(n){var o=n.target.result;o?o.value.id<t+1?o.continue(t+1):(r.push(o.value),o.continue()):e(r)}}))}function A(e,t){return function(e,t){var n=(new Date).getTime()-t,r=e.transaction(d).objectStore(d),o=[];return new Promise((function(e){r.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var s=r.value;if(!(s.time<n))return void e(o);o.push(s),r.continue()}else e(o)}}))}(e,t).then((function(t){return Promise.all(t.map((function(t){return function(e,t){var n=e.transaction([d],"readwrite").objectStore(d).delete(t);return new Promise((function(e){n.onsuccess=function(){return e()}}))}(e,t.id)})))}))}function v(e){e.closed||b(e).then((function(){return r(e.options.idb.fallbackInterval)})).then((function(){return v(e)}))}function b(e){return e.closed?t:e.messagesCallback?p(e.db,e.lastCursorId).then((function(n){var r=n.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return r.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),t})):t}const y={create:function(e,n){return n=g(n),function(e){var t=h(),n=f+e,r=t.open(n,1);return r.onupgradeneeded=function(e){e.target.result.createObjectStore(d,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){r.onerror=function(e){return t(e)},r.onsuccess=function(){e(r.result)}}))}(e).then((function(r){var s={closed:!1,lastCursorId:0,channelName:e,options:n,uuid:o(),eMIs:new u(2*n.idb.ttl),writeBlockPromise:t,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){s.closed=!0,n.idb.onclose&&n.idb.onclose()},v(s),s}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,b(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},o=e.transaction([d],"readwrite");return new Promise((function(e,t){o.oncomplete=function(){return e()},o.onerror=function(e){return t(e)},o.objectStore(d).add(r)}))}(e.db,e.uuid,t)})).then((function(){var t,n;0===(t=0,n=10,Math.floor(Math.random()*(n-t+1)+t))&&A(e.db,e.options.idb.ttl)})),e.writeBlockPromise},canBeUsed:function(){return!l&&!!h()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:a};var w="pubkey.broadcastChannel-";function x(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function E(e){return w+e}function T(){if(l)return!1;var e=x();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}const L={create:function(e,t){if(t=g(t),!T())throw new Error("BroadcastChannel: localstorage cannot be used");var n=o(),r=new u(t.localstorage.removeTimeout),s={channelName:e,uuid:n,eMIs:r};return s.listener=function(e,t){var n=E(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}(e,(function(e){s.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<s.messagesCallbackTime||(r.add(e.token),s.messagesCallback(e.data)))})),s},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){r().then((function(){var r=E(e.channelName),s={token:o(),time:(new Date).getTime(),data:t,uuid:e.uuid},i=JSON.stringify(s);x().setItem(r,i);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=i,window.dispatchEvent(a),n()}))}))},canBeUsed:T,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:a};var C=a,_=new Set;const P={create:function(e){var t={name:e,messagesCallback:null};return _.add(t),t},close:function(e){_.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(_).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:C};var k=[c,y,L];var R,S=new Set,O=0,I=function(e,t){var n,r,o;this.id=O++,S.add(this),this.name=e,R&&(t=R),this.options=g(t),this.method=function(e){var t=[].concat(e.methods,k).filter(Boolean);if(e.type){if("simulate"===e.type)return P;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||l||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No useable method found in "+JSON.stringify(k.map((function(e){return e.type}))))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,r=(n=this).method.create(n.name,n.options),(o=r)&&"function"==typeof o.then?(n._prepP=r,r.then((function(e){n._state=e}))):n._state=r};function M(e,n,r){var o={time:e.method.microSeconds(),type:n,data:r};return(e._prepP?e._prepP:t).then((function(){var t=e.method.postMessage(e._state,o);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function N(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function D(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&N(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=1e5,r=e.time-n;t.time>=r&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function B(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!N(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}I._pubkey=!0,I.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return M(this,"message",e)},postInternal:function(e){return M(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};B(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,D(this,"message",t)):this._onML=null},addEventListener:function(e,t){D(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){B(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){S.delete(this),this.closed=!0;var n=this._prepP?this._prepP:t;return this._onML=null,this._addEL.message=[],n.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};let j=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"");class F{constructor(){this.listeners={}}addListener(e,t){const n=this.listeners[e]||[];n.push(t),this.listeners[e]=n}once(e,t){this.addListener(e,(n=>(delete this.listeners[e],t(n))))}emit(e,t){return new Promise(((n,r)=>{const o=(e=>`${e}_${j()}_callback`)(e);this.once(o,(e=>{return t=this,o=null,s=function*(){var t;(null==(t=e.data)?void 0:t.error)?r(e.data.error):n(e.data.params)},new Promise(((e,n)=>{var r=e=>{try{a(s.next(e))}catch(e){n(e)}},i=e=>{try{a(s.throw(e))}catch(e){n(e)}},a=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,i);a((s=s.apply(t,o)).next())}));var t,o,s})),this.send({method:e,data:{cbMethod:o,params:t}})}))}disconnect(){}}var $=(e,t,n)=>new Promise(((r,o)=>{var s=e=>{try{a(n.next(e))}catch(e){o(e)}},i=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,i);a((n=n.apply(e,t)).next())}));var U,G=n(97034),W=n.n(G);const H="object"!=typeof chrome||!(null==(U=null==chrome?void 0:chrome.runtime)?void 0:U.id)?{}:n(627),Y=H;Y.action=H.action||H.browserAction;const V=Y;class J extends F{constructor(e){var t;super(),this.port=null==(t=V.runtime)?void 0:t.connect({name:e||"extension-message"}),this.port||location.reload(),this.port.onMessage.addListener((e=>{const t=e.method;t&&this.listeners[t]&&this.listeners[t].forEach((t=>t(e)))}))}send(e){try{this.port.postMessage(e)}catch(e){if("Attempting to use a disconnected port object"===(null==e?void 0:e.message))return;throw e}}listen(e){this.port.onMessage.addListener((t=>{e(t)}))}disconnect(){this.port.disconnect()}}const q=e=>(V.runtime.onMessage.addListener(e),()=>V.runtime.onMessage.removeListener(e)),K="in-page-channel-node-id",z="data-channel-name";var X=(e=>(e.READY="READY",e.LOADING="LOADING",e.IDLE="IDLE",e.RESTARTING="RESTARTING",e))(X||{});class Z extends(W()){constructor(){super(...arguments),this.status="LOADING"}emit(e,t){return this.status=t,super.emit(e,t)}emitReplaced(e,t){return super.emit(e,t)}}Z.EVENT="EVENT",Z.REPLACED="REPLACED";var Q=n(14352),ee=n.n(Q),te=n(23791),ne=n.n(te);const re=10,oe=(e=0)=>t=>`[${t+e}m`,se=(e=0)=>t=>`[${38+e};5;${t}m`,ie=(e=0)=>(t,n,r)=>`[${38+e};2;${t};${n};${r}m`,ae={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(ae.modifier),Object.keys(ae.color),Object.keys(ae.bgColor);const le=function(){const e=new Map;for(const[t,n]of Object.entries(ae)){for(const[t,r]of Object.entries(n))ae[t]={open:`[${r[0]}m`,close:`[${r[1]}m`},n[t]=ae[t],e.set(r[0],r[1]);Object.defineProperty(ae,t,{value:n,enumerable:!1})}return Object.defineProperty(ae,"codes",{value:e,enumerable:!1}),ae.color.close="[39m",ae.bgColor.close="[49m",ae.color.ansi=oe(),ae.color.ansi256=se(),ae.color.ansi16m=ie(),ae.bgColor.ansi=oe(re),ae.bgColor.ansi256=se(re),ae.bgColor.ansi16m=ie(re),Object.defineProperties(ae,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[n]=t;3===n.length&&(n=[...n].map((e=>e+e)).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>ae.rgbToAnsi256(...ae.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,n,r;if(e>=232)t=(10*(e-232)+8)/255,n=t,r=t;else{const o=(e-=16)%36;t=Math.floor(e/36)/5,n=Math.floor(o/6)/5,r=o%6/5}const o=2*Math.max(t,n,r);if(0===o)return 30;let s=30+(Math.round(r)<<2|Math.round(n)<<1|Math.round(t));return 2===o&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(e,t,n)=>ae.ansi256ToAnsi(ae.rgbToAnsi256(e,t,n)),enumerable:!1},hexToAnsi:{value:e=>ae.ansi256ToAnsi(ae.hexToAnsi256(e)),enumerable:!1}}),ae}(),ce=(()=>{if(navigator.userAgentData){const e=navigator.userAgentData.brands.find((({brand:e})=>"Chromium"===e));if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),ue=0!==ce&&{level:ce,hasBasic:!0,has256:ce>=2,has16m:ce>=3},me={stdout:ue,stderr:ue};function ge(e,t,n){let r=e.indexOf(t);if(-1===r)return e;const o=t.length;let s=0,i="";do{i+=e.slice(s,r)+t+n,s=r+o,r=e.indexOf(t,s)}while(-1!==r);return i+=e.slice(s),i}const{stdout:fe,stderr:de}=me,he=Symbol("GENERATOR"),pe=Symbol("STYLER"),Ae=Symbol("IS_EMPTY"),ve=["ansi","ansi","ansi256","ansi16m"],be=Object.create(null);const ye=e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=fe?fe.level:0;e.level=void 0===t.level?n:t.level})(t,e),Object.setPrototypeOf(t,we.prototype),t};function we(e){return ye(e)}Object.setPrototypeOf(we.prototype,Function.prototype);for(const[e,t]of Object.entries(le))be[e]={get(){const n=Ce(this,Le(t.open,t.close,this[pe]),this[Ae]);return Object.defineProperty(this,e,{value:n}),n}};be.visible={get(){const e=Ce(this,this[pe],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const xe=(e,t,n,...r)=>"rgb"===e?"ansi16m"===t?le[n].ansi16m(...r):"ansi256"===t?le[n].ansi256(le.rgbToAnsi256(...r)):le[n].ansi(le.rgbToAnsi(...r)):"hex"===e?xe("rgb",t,n,...le.hexToRgb(...r)):le[n][e](...r),Ee=["rgb","hex","ansi256"];for(const e of Ee){be[e]={get(){const{level:t}=this;return function(...n){const r=Le(xe(e,ve[t],"color",...n),le.color.close,this[pe]);return Ce(this,r,this[Ae])}}};be["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...n){const r=Le(xe(e,ve[t],"bgColor",...n),le.bgColor.close,this[pe]);return Ce(this,r,this[Ae])}}}}const Te=Object.defineProperties((()=>{}),{...be,level:{enumerable:!0,get(){return this[he].level},set(e){this[he].level=e}}}),Le=(e,t,n)=>{let r,o;return void 0===n?(r=e,o=t):(r=n.openAll+e,o=t+n.closeAll),{open:e,close:t,openAll:r,closeAll:o,parent:n}},Ce=(e,t,n)=>{const r=(...e)=>_e(r,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(r,Te),r[he]=e,r[pe]=t,r[Ae]=n,r},_e=(e,t)=>{if(e.level<=0||!t)return e[Ae]?"":t;let n=e[pe];if(void 0===n)return t;const{openAll:r,closeAll:o}=n;if(t.includes(""))for(;void 0!==n;)t=ge(t,n.close,n.open),n=n.parent;const s=t.indexOf("\n");return-1!==s&&(t=function(e,t,n,r){let o=0,s="";do{const i="\r"===e[r-1];s+=e.slice(o,i?r-1:r)+t+(i?"\r\n":"\n")+n,o=r+1,r=e.indexOf("\n",o)}while(-1!==r);return s+=e.slice(o),s}(t,o,r,s)),r+t+o};Object.defineProperties(we.prototype,be);const Pe=we(),ke=(we({level:de?de.level:0}),Pe);var Re,Se;ee().setLevel("silent"),(Se=Re||(Re={})).TRACE="TRACE",Se.DEBUG="DEBUG",Se.INFO="INFO",Se.WARN="WARN",Se.ERROR="ERROR";const Oe={[Re.TRACE]:ke.magenta,[Re.DEBUG]:ke.cyan,[Re.INFO]:ke.blue,[Re.WARN]:ke.yellow,[Re.ERROR]:ke.red};ne().reg(ee()),ne().apply(ee(),{format:(e,t,n)=>`${ke.gray(`[${n}]`)} ${Oe[e](e)}${"root"===t?"":ke.green(` [${t}:]`)}`});const Ie=ee().error.bind(ee());let Me;ee().error=(...e)=>{if(!"MISSING_ENV_VAR".DISABLE_ERROR_LOGS)return Me&&Me(...e),Ie(...e)};const Ne=ee();function De(e){return new Promise((t=>setTimeout(t,e)))}function Be(e,t){return`${t}_${e}`}function je(e){return Be(e,"INTERNAL")}function Fe(e){return Be(e,"PUBLIC")}const $e={RESET:je("Reset"),LOCK:je("Lock"),LOCK_CALLBACK:je("Lock_callback"),AUTHENTICATE:je("Authenticate"),REGISTER_DEVICE:je("RegisterDevice"),APP_DISPLAYED:je("AppDisplayed"),WARNING_DISPLAYED:je("WarningDisplayed"),ICON_THEME_CHANGED:je("IconThemeChanged"),GET_APP_SETTINGS:Fe("GetAppSettings"),GET_APP_NODES:Fe("GetAppNodes"),GET_STORE:je("GetStore"),GET_REDUX_STATE:je("GetReduxState"),DISPATCH_REDUX_ACTION:je("DispatchReduxAction"),PING:Fe("Ping")};function Ue(e){if(!e.portStream)return Promise.resolve(X.IDLE);return Promise.race([e.portStream.emit($e.PING),De(e.FIRST_TIME_WAIT).then((()=>X.IDLE))])}var Ge=(e,t,n)=>new Promise(((r,o)=>{var s=e=>{try{a(n.next(e))}catch(e){o(e)}},i=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,i);a((n=n.apply(e,t)).next())}));function We(e){return Ge(this,null,(function*(){if(e.checking)return;e.checking=!0;(yield Ue(e))===X.IDLE?e.missCount++:e.statusProvider.emit(Z.EVENT,X.READY),e.missCount>=e.MAX_MISS_RECONNECT&&(e.statusProvider.emit(Z.EVENT,X.LOADING),e.portStream=new J(e.portName),e.statusProvider.emit(Z.REPLACED,X.LOADING),e.missCount=0),e.checking=!1,setTimeout((()=>We(e)),e.THRESHOLD)}))}function He(e){return new Promise((t=>{Ue(e).then((n=>{n===X.READY?(t(e),We(e)):(e.portStream=new J(e.portName),e.statusProvider.emit(Z.REPLACED,X.LOADING),Ue(e).then((n=>{n===X.READY?(t(e),We(e)):t(De(e.RETRY_THRESHOLD).then((()=>He(e))))})).catch(Ne.error))})).catch(Ne.error)}))}var Ye=(e,t,n)=>new Promise(((r,o)=>{var s=e=>{try{a(n.next(e))}catch(e){o(e)}},i=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,i);a((n=n.apply(e,t)).next())}));const Ve=`in_page_channel_${j(6)}`;!function(e){const t=document.head||document.documentElement,n=document.createElement("div");n.id=K,n.setAttribute(z,e),t.insertBefore(n,t.children[0])}(Ve);const Je=new class extends F{constructor(e){super(),this.port=new I(e),this.port.addEventListener("message",(e=>{const t=e.method;t&&this.listeners[t]&&this.listeners[t].forEach((t=>t(e)))}))}listen(e){const t=t=>{e(t)};return this.port.addEventListener("message",t),()=>this.port.removeEventListener("message",t)}send(e){return $(this,null,(function*(){yield this.port.postMessage(e)}))}disconnect(){return $(this,null,(function*(){yield this.port.close()}))}}(Ve),qe={portName:Ve,checking:!1,missCount:0,THRESHOLD:100,FIRST_TIME_WAIT:200,RETRY_THRESHOLD:400,MAX_MISS_RECONNECT:1,statusProvider:new Z},Ke=new Proxy({},{get:(e,t,n)=>Reflect.get(qe.portStream,t,n)});let ze;(function(){return Ye(this,null,(function*(){function e(t,n){return new Promise((r=>{t.statusProvider.status===X.READY?r(n()):setTimeout((()=>r(e(t,n))),t.THRESHOLD)}))}qe.statusProvider.on(Z.REPLACED,(()=>{ze&&ze(),ze=Ke.listen((e=>{var t;return(null==(t=e.method)?void 0:t.endsWith("_callback"))&&Je.send(e)}))})),yield He(qe),Je.listen((t=>{var n;if(!(null==(n=t.method)?void 0:n.endsWith("_callback")))return e(qe,(()=>Ke.send(t)))})),q((e=>Je.send(e)))}))})().catch(Ne.error)})()})();